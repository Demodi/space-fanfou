<html>
  <head>
    <title>太空饭否 | 选项</title>
    <script type="text/javascript">
    
    // Saves options to localStorage.
    function save_options() {
      var select = document.getElementById("color");
      var color = select.children[select.selectedIndex].value;
      localStorage["favorite_color"] = color;
    
      // Update status to let user know options were saved.
      var status = document.getElementById("status");
      status.innerHTML = "设置已保存。";
      setTimeout(function() {
        status.innerHTML = "太空饭否 | 设置";
      }, 2000);
    }
    
    // Restores select box state to saved value from localStorage.
    function restore_options() {
      var favorite = localStorage["favorite_color"];
      if (!favorite) {
        return;
      }
      var select = document.getElementById("color");
      for (var i = 0; i < select.children.length; i++) {
        var child = select.children[i];
        if (child.value == favorite) {
          child.selected = "true";
          break;
        }
      }
    }
    
    </script>
  </head>
  <body onload="restore_options()">
  <span id="status">太空饭否 | 设置</span><br /><br />
  测试用（颜色设置）:
  <select id="color">
  <option value="red">red</option>
  <option value="green">green</option>
  <option value="blue">blue</option>
  <option value="yellow">yellow</option>
  </select>
  <br />
  正文使用雅黑字体:
  <br />
  开启回复展开功能:
  <br />
  <button onclick="save_options()">保存设置</button>
  </body>
</html>
